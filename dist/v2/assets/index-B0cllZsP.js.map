{"version":3,"file":"index-B0cllZsP.js","sources":["../../../bublik-ui/libs/bublik/features/session-log/src/lib/v1/log-blocks/log-table/blocks/log-content-mi/blocks/log-mi-chart/log-mi-chart.utils.ts","../../../bublik-ui/libs/bublik/features/session-log/src/lib/v1/log-blocks/log-table/blocks/log-content-mi/blocks/log-mi-chart/log-mi-chart.component.tsx"],"sourcesContent":["/* SPDX-License-Identifier: Apache-2.0 */\n/* SPDX-FileCopyrightText: 2021-2023 OKTET Labs Ltd. */\nimport { upperCaseFirstLetter } from '@/shared/utils';\nimport {\n\tSeriesOption,\n\tXAXisComponentOption,\n\tYAXisComponentOption\n} from '@/shared/charts';\n\nimport {\n\tLogContentAxisXSchema,\n\tLogContentAxisYSchema,\n\tLogContentMiChart,\n\tLogContentMiChartResults\n} from '@/shared/types';\nimport { ResultDescriptionItem } from './log-mi-chart.types';\n\nexport const convertResults = (\n\tvalues: LogContentMiChart['results']\n): ResultDescriptionItem[] => {\n\treturn values.map((result) => {\n\t\tconst statistics = result.entries\n\t\t\t.filter((entry) => entry.aggr !== 'single')\n\t\t\t.map((entry) => ({\n\t\t\t\tunits: entry.base_units,\n\t\t\t\tvalue: entry.value,\n\t\t\t\tmultiplier: entry.multiplier,\n\t\t\t\taggr: entry.aggr\n\t\t\t}));\n\n\t\treturn {\n\t\t\tparameterName: result.description,\n\t\t\tvalues: result.entries\n\t\t\t\t.filter((entry) => entry.aggr === 'single')\n\t\t\t\t.map((entry) => ({\n\t\t\t\t\tunits: entry.base_units,\n\t\t\t\t\tvalue: entry.value,\n\t\t\t\t\tmultiplier: entry.multiplier,\n\t\t\t\t\taggr: entry.aggr\n\t\t\t\t})),\n\t\t\tstatistics\n\t\t};\n\t});\n};\n\nexport interface Config {\n\tresults: Array<LogContentMiChart['results'][number]>;\n\tviews: Array<LogContentMiChart['views'][number]>;\n}\n\nexport interface ChartConfig {\n\ttitle: string;\n\txAxis: XAXisComponentOption;\n\tyAxises: YAXisComponentOption[];\n\tseries: SeriesOption[];\n\tlegends: string[];\n\terrors: string[];\n}\n\nexport const convertRawToCharts = (config: Config): ChartConfig[] => {\n\tconst { results, views } = config;\n\n\ttype XAxisConfig = {\n\t\taxis: LogContentAxisXSchema;\n\t\tresults: LogContentMiChartResults;\n\t};\n\n\tconst createXAxis = (\n\t\tconfig: XAxisConfig\n\t): { resultType?: string; axis: XAXisComponentOption; data: number[] } => {\n\t\tconst { axis, results } = config;\n\n\t\tif (axis.name === 'auto-seqno') {\n\t\t\tconst maxLength = results\n\t\t\t\t.map((result) => result.entries.length)\n\t\t\t\t.reduce((acc, val) => Math.max(acc, val));\n\n\t\t\tconst data = Array.from({ length: maxLength }, (_, i) => i);\n\n\t\t\treturn {\n\t\t\t\tresultType: 'auto-seqno',\n\t\t\t\taxis: {\n\t\t\t\t\ttype: 'value',\n\t\t\t\t\tscale: true,\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: maxLength - 1\n\t\t\t\t},\n\t\t\t\tdata\n\t\t\t};\n\t\t}\n\n\t\tconst result = results.find((result) => result.type === axis.type);\n\t\tconst units = result?.entries?.[0]?.base_units;\n\t\tconst data =\n\t\t\tresult?.entries?.map(\n\t\t\t\t(entry) => Number(entry.value) * Number(entry.multiplier)\n\t\t\t) || [];\n\t\tconst min = Math.min(...data);\n\t\tconst max = Math.max(...data);\n\n\t\treturn {\n\t\t\tresultType: axis.type,\n\t\t\taxis: {\n\t\t\t\ttype: 'value',\n\t\t\t\tscale: true,\n\t\t\t\tmin,\n\t\t\t\tmax,\n\t\t\t\taxisLabel: { formatter: `{value} ${units}` }\n\t\t\t},\n\t\t\tdata\n\t\t};\n\t};\n\n\ttype YAxisConfig = {\n\t\txAxisResultType?: string;\n\t\taxis: LogContentAxisYSchema;\n\t\tresults: LogContentMiChartResults;\n\t};\n\n\tconst createYaxises = (\n\t\tconfig: YAxisConfig\n\t): { type?: string; axis: YAXisComponentOption }[] => {\n\t\tconst { xAxisResultType, axis, results } = config;\n\n\t\tif (!axis) {\n\t\t\treturn results\n\t\t\t\t.filter((result) => result.type !== xAxisResultType)\n\t\t\t\t.map((result) => {\n\t\t\t\t\tconst units = result.entries?.[0]?.base_units;\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: result.type,\n\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\ttype: 'value',\n\t\t\t\t\t\t\tname: result.name,\n\t\t\t\t\t\t\tposition: 'left',\n\t\t\t\t\t\t\tscale: true,\n\t\t\t\t\t\t\talignTicks: true,\n\t\t\t\t\t\t\tmin: (value) => value.min * 0.9,\n\t\t\t\t\t\t\tmax: (value) => value.max * 1.1,\n\t\t\t\t\t\t\tnameTextStyle: { opacity: 0 },\n\t\t\t\t\t\t\taxisLine: { show: true, lineStyle: {} },\n\t\t\t\t\t\t\taxisLabel: { formatter: `{value} ${units}` }\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t}\n\n\t\treturn axis.map((axis) => {\n\t\t\tconst units = results.find(\n\t\t\t\t(result) => result.type === axis.type && result.name === axis.name\n\t\t\t)?.entries[0]?.base_units;\n\t\t\treturn {\n\t\t\t\ttype: axis.type,\n\t\t\t\taxis: {\n\t\t\t\t\ttype: 'value',\n\t\t\t\t\tname: axis.name,\n\t\t\t\t\tscale: true,\n\t\t\t\t\tposition: 'left',\n\t\t\t\t\talignTicks: true,\n\t\t\t\t\taxisLine: { show: true, lineStyle: {} },\n\t\t\t\t\taxisLabel: { formatter: `{value} ${units}` }\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t};\n\n\ttype SeriesConfig = {\n\t\txAxisData: number[];\n\t\tyAxises: ReturnType<typeof createYaxises>;\n\t\tresults: LogContentMiChartResults;\n\t};\n\n\tconst createSeries = (config: SeriesConfig): SeriesOption[] => {\n\t\treturn config.yAxises.map((yAxis) => {\n\t\t\tconst result = config.results.find(\n\t\t\t\t(result) =>\n\t\t\t\t\tresult.type === yAxis.type && result.name === yAxis.axis.name\n\t\t\t);\n\n\t\t\tif (!result)\n\t\t\t\treturn {\n\t\t\t\t\tname:\n\t\t\t\t\t\tyAxis.axis.name ||\n\t\t\t\t\t\t(yAxis.type ? upperCaseFirstLetter(yAxis.type) : ''),\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tdata: []\n\t\t\t\t};\n\n\t\t\tconst yValues = result.entries\n\t\t\t\t.filter((entry) => entry.aggr === 'single')\n\t\t\t\t.map((entry) => Number(entry.value) * Number(entry.multiplier));\n\n\t\t\tconst data = yValues.map((y, index) => {\n\t\t\t\tconst x =\n\t\t\t\t\tindex < config.xAxisData.length ? config.xAxisData[index] : index;\n\n\t\t\t\treturn [x, y]; // Return as [x, y] coordinate pair\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tname:\n\t\t\t\t\tyAxis.axis.name ||\n\t\t\t\t\t(yAxis.type ? upperCaseFirstLetter(yAxis.type) : ''),\n\t\t\t\ttype: 'line',\n\t\t\t\tdata\n\t\t\t};\n\t\t});\n\t};\n\n\treturn views.map((view) => {\n\t\tconst { title, axis_x, axis_y } = view;\n\n\t\tconst xAxis = createXAxis({ axis: axis_x, results });\n\t\tconst yAxises = createYaxises({\n\t\t\taxis: axis_y,\n\t\t\tresults,\n\t\t\txAxisResultType: xAxis.resultType\n\t\t});\n\n\t\tconst series = createSeries({\n\t\t\txAxisData: xAxis.data,\n\t\t\tyAxises,\n\t\t\tresults\n\t\t});\n\n\t\tconst errors: string[] = [];\n\t\tseries.forEach((series) => {\n\t\t\tconst seriesData = series.data as Array<[number, number]>;\n\n\t\t\tif (seriesData.length !== xAxis.data.length) {\n\t\t\t\terrors.push(\n\t\t\t\t\t`Parameter '${series.name}' on axis Y has ${seriesData.length} values while on axis X there is ${xAxis.data.length} values.`\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\ttitle,\n\t\t\txAxis: xAxis.axis,\n\t\t\tyAxises: yAxises.map((root) => root.axis),\n\t\t\tseries,\n\t\t\tlegends: series.map((series) => series.name) as string[],\n\t\t\terrors\n\t\t};\n\t});\n};\n","/* SPDX-License-Identifier: Apache-2.0 */\n/* SPDX-FileCopyrightText: 2021-2023 OKTET Labs Ltd. */\nimport { useMemo } from 'react';\n\nimport { useToggle } from '@/shared/hooks';\nimport { JsonViewer, cn } from '@/shared/tailwind-ui';\nimport { ReactECharts, twTheme } from '@/shared/charts';\n\nimport { LogContentMiChart } from '@/shared/types';\nimport {\n\tResultDescriptionItem,\n\tResultDescriptionValue\n} from './log-mi-chart.types';\nimport {\n\tChartConfig,\n\tconvertRawToCharts,\n\tconvertResults\n} from './log-mi-chart.utils';\n\nexport interface ResultDescriptionListProps {\n\titems: ResultDescriptionItem[];\n}\n\nexport const ResultDescriptionList = (props: ResultDescriptionListProps) => {\n\treturn (\n\t\t<ul className=\"flex flex-col gap-4\">\n\t\t\t{props.items.map((item) => (\n\t\t\t\t<li key={item.parameterName}>\n\t\t\t\t\t<ResultDescription\n\t\t\t\t\t\tparameterName={item.parameterName}\n\t\t\t\t\t\tvalues={item.values}\n\t\t\t\t\t\tstatistics={item.statistics}\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t);\n};\n\nexport interface ResultDescriptionProps {\n\tparameterName: string;\n\tvalues: ResultDescriptionValue[];\n\tstatistics?: ResultDescriptionValue[];\n}\n\nexport const ResultDescription = (props: ResultDescriptionProps) => {\n\tconst { parameterName, values, statistics } = props;\n\tconst [isOpen, toggle] = useToggle();\n\n\treturn (\n\t\t<div>\n\t\t\t<h2 className=\"font-bold\">Measured parameter: \"{parameterName}\"</h2>\n\t\t\t{statistics && statistics.length ? (\n\t\t\t\t<div className=\"pl-10\">\n\t\t\t\t\t<span className=\"block font-bold\">Statistics:</span>\n\t\t\t\t\t<ul className=\"pl-4\">\n\t\t\t\t\t\t{statistics.map((stat, idx) => (\n\t\t\t\t\t\t\t<li key={idx}>\n\t\t\t\t\t\t\t\t{stat.aggr}: {stat.value} * {stat.multiplier} {stat.units}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t\t<div className=\"pl-10\">\n\t\t\t\t<span className=\"block font-bold\">Values:</span>\n\t\t\t\t<button\n\t\t\t\t\tonClick={toggle}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t'hover:underline pl-4',\n\t\t\t\t\t\tisOpen && 'text-text-unexpected',\n\t\t\t\t\t\t!isOpen && 'text-primary'\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{isOpen\n\t\t\t\t\t\t? `Hide ${values.length} values`\n\t\t\t\t\t\t: `Show ${values.length} values`}\n\t\t\t\t</button>\n\t\t\t\t<ul className=\"pl-10\">\n\t\t\t\t\t{isOpen\n\t\t\t\t\t\t? values.map((item, idx) => (\n\t\t\t\t\t\t\t\t<li key={idx}>\n\t\t\t\t\t\t\t\t\t{item.value} * {item.multiplier} {item.units}\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t  ))\n\t\t\t\t\t\t: null}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport interface ChartListProps {\n\tcharts: ChartConfig[];\n}\n\nexport const ChartList = (props: ChartListProps) => {\n\treturn (\n\t\t<ul className=\"flex flex-col gap-4\">\n\t\t\t{props.charts.map((config) => (\n\t\t\t\t<li key={config.title}>\n\t\t\t\t\t<Chart config={config} />\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t);\n};\n\nexport interface ChartProps {\n\tconfig: ChartConfig;\n}\n\nexport const Chart = (props: ChartProps) => {\n\tconst { series, title, xAxis, yAxises, legends, errors } = props.config;\n\n\treturn (\n\t\t<div className=\"bg-white py-4 rounded-md\">\n\t\t\t<h2 className=\"font-bold text-center\">{title}</h2>\n\t\t\t<ReactECharts\n\t\t\t\toption={{\n\t\t\t\t\ttoolbox: {\n\t\t\t\t\t\tfeature: {\n\t\t\t\t\t\t\tdataView: { show: true, readOnly: false },\n\t\t\t\t\t\t\trestore: { show: true },\n\t\t\t\t\t\t\tsaveAsImage: { show: true }\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdataZoom: [\n\t\t\t\t\t\t{ type: 'inside', show: true },\n\t\t\t\t\t\t{ show: true, type: 'slider', height: 20 }\n\t\t\t\t\t],\n\t\t\t\t\tgrid: { containLabel: true },\n\t\t\t\t\ttooltip: { trigger: 'axis' },\n\t\t\t\t\tlegend: { data: legends },\n\t\t\t\t\txAxis,\n\t\t\t\t\tyAxis: yAxises,\n\t\t\t\t\tseries\n\t\t\t\t}}\n\t\t\t\ttheme={twTheme.theme}\n\t\t\t/>\n\t\t\t{errors.length ? (\n\t\t\t\t<ul className=\"flex flex-col gap-2\">\n\t\t\t\t\t{errors.map((error, idx) => (\n\t\t\t\t\t\t<li key={idx} className=\"text-text-unexpected\">\n\t\t\t\t\t\t\t{error}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\nexport const LogMiChart = (props: LogContentMiChart) => {\n\tconst items = useMemo<ResultDescriptionItem[]>(\n\t\t() => convertResults(props.results),\n\t\t[props.results]\n\t);\n\n\tconst chartViews = useMemo<ChartConfig[]>(\n\t\t() => convertRawToCharts({ results: props.results, views: props.views }),\n\t\t[props.results, props.views]\n\t);\n\n\treturn (\n\t\t<div className=\"flex flex-col gap-4\">\n\t\t\t<h1 className=\"font-bold\">\n\t\t\t\tMeasurements from tool {props.tool.toLowerCase()}\n\t\t\t</h1>\n\t\t\t<ResultDescriptionList items={items} />\n\t\t\t<ChartList charts={chartViews} />\n\t\t\t<JsonViewer src={props} />\n\t\t</div>\n\t);\n};\n"],"names":["convertResults","values","result","statistics","entry","convertRawToCharts","config","results","views","createXAxis","axis","maxLength","acc","val","data","_","i","units","min","max","createYaxises","xAxisResultType","value","createSeries","yAxis","upperCaseFirstLetter","y","index","view","title","axis_x","axis_y","xAxis","yAxises","series","errors","seriesData","root","ResultDescriptionList","props","jsx","item","ResultDescription","parameterName","isOpen","toggle","useToggle","jsxs","stat","idx","cn","ChartList","Chart","legends","ReactECharts","twTheme","error","LogMiChart","items","useMemo","chartViews","JsonViewer"],"mappings":"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"}
import{_ as u,j as e}from"./shiki-CtY5KH0E.js";import{a as f}from"./react-BSMx3yqy.js";import{bd as b,be as j,j as m,I as c,o as p,bf as v,bg as C,O as g,Q as y,U as N,m as w,n as k,bh as I,T as O}from"./index-rCMhFuXx.js";const E=s=>{const{plots:t}=s;return{handleExportClick:async a=>{try{const{saveAsCSV:l,saveAsXLSX:n}=await u(async()=>{const{saveAsCSV:o,saveAsXLSX:x}=await import("./export-OnCO5SE7.js");return{saveAsCSV:o,saveAsXLSX:x}},[]);if(!t)return;const i=t.map(o=>o.title??o.subtitle).join(" & ").slice(0,31).replace(/:|\\|[\\/]|[?]|]|[*]/,"#");switch(a){case".xlsx":n(i,t);break;case".csv":l(i,t);break;default:console.error("Unsupported file extension")}}catch{console.error("Failed to import 'export-plot' module")}}}},S=({extensions:s,onSaveAsClick:t})=>{const r=a=>()=>{t(a)};return e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-popover",children:e.jsx("ul",{className:"flex flex-col gap-2 min-w-[140px]",children:s.map(a=>e.jsx("li",{className:"w-full",children:e.jsx("button",{className:"w-full py-2.5 px-4 rounded-md transition-all text-text-primary text-start hover:text-primary hover:bg-primary-wash",onClick:r(a),children:e.jsxs("span",{className:"text-[0.6875rem] font-medium leading-[0.875rem]",children:["Export as ",a]})})},a))})})},T=({plots:s,isLoading:t,disabled:r})=>{const[a,l]=f.useState(!1),{handleExportClick:n}=E({plots:s}),i=!s?.length||r;return e.jsxs(b,{onOpenChange:l,children:[e.jsx(j,{asChild:!0,children:e.jsxs(m,{variant:"secondary",size:"xss",state:t?"loading":a?"active":void 0,disabled:i,children:[t&&!i?e.jsx(c,{name:"ProgressIndicator",size:20,className:p("mr-1.5",t&&"animate-spin")}):e.jsx(c,{name:"Import",size:20,className:"mr-1.5"}),"Export"]})}),e.jsx(v,{sideOffset:4,children:e.jsx(S,{onSaveAsClick:n,extensions:[".xlsx",".csv"]})})]})},d=({icon:s,label:t,value:r,isError:a})=>{const l=typeof a<"u"?a?"bg-badge-5":"bg-badge-3":"bg-primary-wash",n=typeof a<"u"?a?"text-text-unexpected":"text-text-expected":"text-text-primary";return e.jsxs("div",{className:"flex items-center gap-2.5 py-[5px] px-3 border border-border-primary rounded",children:[s&&e.jsx("div",{className:"grid place-items-center text-text-menu",children:s}),e.jsx("span",{className:"font-semibold leading-[0.875rem] text-text-primary text-[0.75rem]",children:t}),e.jsx("div",{className:p("flex p-1 rounded",l),children:e.jsx("span",{className:p("text-[0.6875rem] font-medium leading-[0.875rem]",n),children:r})})]})},_=()=>e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M20.0682 11.6314C20.4321 11.6314 20.728 11.3356 20.728 10.9717V8.72962C20.728 5.36002 18.6247 3.27246 15.2761 3.27246H8.7306C5.361 3.27246 3.27344 5.36002 3.27344 8.73224V15.2777C3.27344 18.6394 5.361 20.727 8.7306 20.727H15.2787C18.6404 20.727 20.728 18.6394 20.7254 15.2751C20.7254 14.9068 20.4269 14.6074 20.0577 14.6074C19.6886 14.6074 19.3901 14.9068 19.3901 15.2751C19.3901 17.9229 17.9318 19.3891 15.2761 19.3891H8.7306C6.07489 19.3891 4.60871 17.9229 4.60871 15.2751V8.72962C4.60871 6.07392 6.07489 4.60773 8.73322 4.60773H15.2787C17.9353 4.60773 19.3927 6.06519 19.3927 8.72962V10.9481V10.9498C19.3936 11.3181 19.6921 11.6157 20.0603 11.6157V11.6314H20.0682Z",fill:"currentColor"}),e.jsx("path",{d:"M9.74771 15.4965H15.1293C15.542 15.4965 15.877 15.1582 15.877 14.7414C15.877 14.3246 15.542 13.9863 15.1293 13.9863H9.74771C9.33498 13.9863 9 14.3246 9 14.7414C9 15.1582 9.33498 15.4965 9.74771 15.4965Z",fill:"currentColor"}),e.jsx("path",{d:"M9.74771 10.5102H13.0935C13.5062 10.5102 13.8412 10.1719 13.8412 9.7551C13.8412 9.33828 13.5062 9 13.0935 9H9.74771C9.33498 9 9 9.33828 9 9.7551C9 10.1719 9.33498 10.5102 9.74771 10.5102Z",fill:"currentColor"})]});function z(s){const{name:t,obtainedResult:r,isError:a,parameters:l,start:n,separator:i="="}=s;return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(d,{label:"Test name",value:t,icon:e.jsx(c,{name:"Paper",size:24})}),typeof n<"u"&&C(new Date(n))?e.jsx(d,{label:"Start",value:g(N(n),y),icon:e.jsx(c,{name:"Clock",size:24})}):null,typeof r<"u"&&typeof a<"u"?e.jsx(d,{label:"Obtained result",value:r,icon:e.jsx(_,{}),isError:a}):null]}),e.jsx("div",{className:"flex flex-wrap items-center gap-4",children:l.map(o=>{const[x,h]=o.split(i);return e.jsx(d,{label:x,value:h},o)})})]})}const H={visible:{opacity:1,y:"0%"},hidden:{opacity:0,y:"100%"},exit:{opacity:0,y:"100%"}},R={bounce:.1};function B(s){return e.jsx(w,{children:s.open?e.jsxs(k.div,{variants:H,initial:"hidden",animate:"visible",exit:"exit",transition:R,className:"fixed bottom-4 right-4 bg-white rounded-lg shadow-popover min-w-[360px] px-4 py-2 z-30",children:[e.jsx("h1",{className:"text-[0.875rem] leading-[1.125rem] font-semibold mb-2",children:s.label}),e.jsx("ul",{className:"flex flex-col gap-2 mb-4",children:s.plots.map(({plot:t})=>e.jsxs("li",{className:"flex items-center justify-between p-2 border rounded border-border-primary hover:bg-gray-50",children:[e.jsx("div",{children:e.jsx("span",{className:"text-[0.6875rem] font-medium leading-[0.875rem]",children:I(t)})}),e.jsx(O,{content:"Remove from combined chart",disableHoverableContent:!0,children:e.jsx("button",{"aria-label":"Remove from compare",className:"grid transition-colors rounded place-items-center text-text-unexpected hover:bg-red-100",onClick:()=>s.onRemoveClick?.(t),children:e.jsx(c,{name:"CrossSimple"})})})]},t.id))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{variant:"primary",size:"md",rounded:"lg",className:"flex-1",onClick:s.onOpenButtonClick,children:"Open"}),e.jsx(m,{variant:"outline",size:"md",rounded:"lg",className:"flex-1",onClick:s.onResetButtonClick,children:"Reset"})]})]}):null})}export{T as E,z as I,B as S};
//# sourceMappingURL=selected-charts.component-CqeB5_H5.js.map

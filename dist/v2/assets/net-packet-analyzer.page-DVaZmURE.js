import{j as u}from"./shiki-CwGu-Q6Z.js";import{a as U,L as be,i as $e}from"./react-DysD6PZB.js";import{o as Ee,au as ye,av as ge,C as Oe,j as Ae,I as Ue,r as ke,aB as ze,E as V}from"./index-Ch3osfLC.js";import"./reactJsonView-DLIBAeRz.js";import"./echarts-lseLLy92.js";import"./monaco-CC1yU_x7.js";import"./prettier-B8tySQOv.js";var Be={},ie={},Se;function We(){if(Se)return ie;Se=1,ie.byteLength=o,ie.toByteArray=M,ie.fromByteArray=d;for(var m=[],f=[],p=typeof Uint8Array<"u"?Uint8Array:Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=0,w=k.length;y<w;++y)m[y]=k[y],f[k.charCodeAt(y)]=y;f[45]=62,f[95]=63;function h(l){var c=l.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=l.indexOf("=");x===-1&&(x=c);var F=x===c?0:4-x%4;return[x,F]}function o(l){var c=h(l),x=c[0],F=c[1];return(x+F)*3/4-F}function I(l,c,x){return(c+x)*3/4-x}function M(l){var c,x=h(l),F=x[0],C=x[1],b=new p(I(l,F,C)),_=0,H=C>0?F-4:F,R;for(R=0;R<H;R+=4)c=f[l.charCodeAt(R)]<<18|f[l.charCodeAt(R+1)]<<12|f[l.charCodeAt(R+2)]<<6|f[l.charCodeAt(R+3)],b[_++]=c>>16&255,b[_++]=c>>8&255,b[_++]=c&255;return C===2&&(c=f[l.charCodeAt(R)]<<2|f[l.charCodeAt(R+1)]>>4,b[_++]=c&255),C===1&&(c=f[l.charCodeAt(R)]<<10|f[l.charCodeAt(R+1)]<<4|f[l.charCodeAt(R+2)]>>2,b[_++]=c>>8&255,b[_++]=c&255),b}function N(l){return m[l>>18&63]+m[l>>12&63]+m[l>>6&63]+m[l&63]}function j(l,c,x){for(var F,C=[],b=c;b<x;b+=3)F=(l[b]<<16&16711680)+(l[b+1]<<8&65280)+(l[b+2]&255),C.push(N(F));return C.join("")}function d(l){for(var c,x=l.length,F=x%3,C=[],b=16383,_=0,H=x-F;_<H;_+=b)C.push(j(l,_,_+b>H?H:_+b));return F===1?(c=l[x-1],C.push(m[c>>2]+m[c<<4&63]+"==")):F===2&&(c=(l[x-2]<<8)+l[x-1],C.push(m[c>>10]+m[c>>4&63]+m[c<<2&63]+"=")),C.join("")}return ie}var le={};var Ce;function He(){return Ce||(Ce=1,le.read=function(m,f,p,k,y){var w,h,o=y*8-k-1,I=(1<<o)-1,M=I>>1,N=-7,j=p?y-1:0,d=p?-1:1,l=m[f+j];for(j+=d,w=l&(1<<-N)-1,l>>=-N,N+=o;N>0;w=w*256+m[f+j],j+=d,N-=8);for(h=w&(1<<-N)-1,w>>=-N,N+=k;N>0;h=h*256+m[f+j],j+=d,N-=8);if(w===0)w=1-M;else{if(w===I)return h?NaN:(l?-1:1)*(1/0);h=h+Math.pow(2,k),w=w-M}return(l?-1:1)*h*Math.pow(2,w-k)},le.write=function(m,f,p,k,y,w){var h,o,I,M=w*8-y-1,N=(1<<M)-1,j=N>>1,d=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=k?0:w-1,c=k?1:-1,x=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(o=isNaN(f)?1:0,h=N):(h=Math.floor(Math.log(f)/Math.LN2),f*(I=Math.pow(2,-h))<1&&(h--,I*=2),h+j>=1?f+=d/I:f+=d*Math.pow(2,1-j),f*I>=2&&(h++,I/=2),h+j>=N?(o=0,h=N):h+j>=1?(o=(f*I-1)*Math.pow(2,y),h=h+j):(o=f*Math.pow(2,j-1)*Math.pow(2,y),h=0));y>=8;m[p+l]=o&255,l+=c,o/=256,y-=8);for(h=h<<y|o,M+=y;M>0;m[p+l]=h&255,l+=c,h/=256,M-=8);m[p+l-c]|=x*128}),le}var Re;function qe(){return Re||(Re=1,(function(m){const f=We(),p=He(),k=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;m.Buffer=o,m.SlowBuffer=b,m.INSPECT_MAX_BYTES=50;const y=2147483647;m.kMaxLength=y,o.TYPED_ARRAY_SUPPORT=w(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function w(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function h(t){if(t>y)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,o.prototype),e}function o(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return j(t)}return I(t,e,r)}o.poolSize=8192;function I(t,e,r){if(typeof t=="string")return d(t,e);if(ArrayBuffer.isView(t))return c(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return x(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return o.from(n,e,r);const i=F(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return o.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}o.from=function(t,e,r){return I(t,e,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function M(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function N(t,e,r){return M(t),t<=0?h(t):e!==void 0?typeof r=="string"?h(t).fill(e,r):h(t).fill(e):h(t)}o.alloc=function(t,e,r){return N(t,e,r)};function j(t){return M(t),h(t<0?0:C(t)|0)}o.allocUnsafe=function(t){return j(t)},o.allocUnsafeSlow=function(t){return j(t)};function d(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!o.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=_(t,e)|0;let n=h(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function l(t){const e=t.length<0?0:C(t.length)|0,r=h(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function c(t){if(J(t,Uint8Array)){const e=new Uint8Array(t);return x(e.buffer,e.byteOffset,e.byteLength)}return l(t)}function x(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,o.prototype),n}function F(t){if(o.isBuffer(t)){const e=C(t.length)|0,r=h(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||we(t.length)?h(0):l(t);if(t.type==="Buffer"&&Array.isArray(t.data))return l(t.data)}function C(t){if(t>=y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return t|0}function b(t){return+t!=t&&(t=0),o.alloc(+t)}o.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==o.prototype},o.compare=function(e,r){if(J(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),J(r,Uint8Array)&&(r=o.from(r,r.offset,r.byteLength)),!o.isBuffer(e)||!o.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let s=0,a=Math.min(n,i);s<a;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return o.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;const i=o.allocUnsafe(r);let s=0;for(n=0;n<e.length;++n){let a=e[n];if(J(a,Uint8Array))s+a.length>i.length?(o.isBuffer(a)||(a=o.from(a)),a.copy(i,s)):Uint8Array.prototype.set.call(i,a,s);else if(o.isBuffer(a))a.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=a.length}return i};function _(t,e){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return me(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Fe(t).length;default:if(i)return n?-1:me(t).length;e=(""+e).toLowerCase(),i=!0}}o.byteLength=_;function H(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return pe(this,e,r);case"utf8":case"utf-8":return te(this,e,r);case"ascii":return he(this,e,r);case"latin1":case"binary":return fe(this,e,r);case"base64":return ue(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}o.prototype._isBuffer=!0;function R(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}o.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)R(this,r,r+1);return this},o.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)R(this,r,r+3),R(this,r+1,r+2);return this},o.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)R(this,r,r+7),R(this,r+1,r+6),R(this,r+2,r+5),R(this,r+3,r+4);return this},o.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?te(this,0,e):H.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:o.compare(this,e)===0},o.prototype.inspect=function(){let e="";const r=m.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},k&&(o.prototype[k]=o.prototype.inspect),o.prototype.compare=function(e,r,n,i,s){if(J(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let a=s-i,B=n-r;const P=Math.min(a,B),L=this.slice(i,s),D=e.slice(r,n);for(let T=0;T<P;++T)if(L[T]!==D[T]){a=L[T],B=D[T];break}return a<B?-1:B<a?1:0};function q(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,we(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=o.from(e,n)),o.isBuffer(e))return e.length===0?-1:oe(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):oe(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function oe(t,e,r,n,i){let s=1,a=t.length,B=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,a/=2,B/=2,r/=2}function P(D,T){return s===1?D[T]:D.readUInt16BE(T*s)}let L;if(i){let D=-1;for(L=r;L<a;L++)if(P(t,L)===P(e,D===-1?0:L-D)){if(D===-1&&(D=L),L-D+1===B)return D*s}else D!==-1&&(L-=L-D),D=-1}else for(r+B>a&&(r=a-B),L=r;L>=0;L--){let D=!0;for(let T=0;T<B;T++)if(P(t,L+T)!==P(e,T)){D=!1;break}if(D)return L}return-1}o.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1},o.prototype.indexOf=function(e,r,n){return q(this,e,r,n,!0)},o.prototype.lastIndexOf=function(e,r,n){return q(this,e,r,n,!1)};function K(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;const s=e.length;n>s/2&&(n=s/2);let a;for(a=0;a<n;++a){const B=parseInt(e.substr(a*2,2),16);if(we(B))return a;t[r+a]=B}return a}function G(t,e,r,n){return ae(me(e,t.length-r),t,r,n)}function ee(t,e,r,n){return ae(Le(e),t,r,n)}function re(t,e,r,n){return ae(Fe(e),t,r,n)}function ce(t,e,r,n){return ae(_e(e,t.length-r),t,r,n)}o.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let a=!1;for(;;)switch(i){case"hex":return K(this,e,r,n);case"utf8":case"utf-8":return G(this,e,r,n);case"ascii":case"latin1":case"binary":return ee(this,e,r,n);case"base64":return re(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,e,r,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ue(t,e,r){return e===0&&r===t.length?f.fromByteArray(t):f.fromByteArray(t.slice(e,r))}function te(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const s=t[i];let a=null,B=s>239?4:s>223?3:s>191?2:1;if(i+B<=r){let P,L,D,T;switch(B){case 1:s<128&&(a=s);break;case 2:P=t[i+1],(P&192)===128&&(T=(s&31)<<6|P&63,T>127&&(a=T));break;case 3:P=t[i+1],L=t[i+2],(P&192)===128&&(L&192)===128&&(T=(s&15)<<12|(P&63)<<6|L&63,T>2047&&(T<55296||T>57343)&&(a=T));break;case 4:P=t[i+1],L=t[i+2],D=t[i+3],(P&192)===128&&(L&192)===128&&(D&192)===128&&(T=(s&15)<<18|(P&63)<<12|(L&63)<<6|D&63,T>65535&&T<1114112&&(a=T))}}a===null?(a=65533,B=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=B}return Q(n)}const Z=4096;function Q(t){const e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Z));return r}function he(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function fe(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function pe(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=Pe[t[s]];return i}function de(t,e,r){const n=t.slice(e,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}o.prototype.slice=function(e,r){const n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);const i=this.subarray(e,r);return Object.setPrototypeOf(i,o.prototype),i};function O(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||O(e,r,this.length);let i=this[e],s=1,a=0;for(;++a<r&&(s*=256);)i+=this[e+a]*s;return i},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||O(e,r,this.length);let i=this[e+--r],s=1;for(;r>0&&(s*=256);)i+=this[e+--r]*s;return i},o.prototype.readUint8=o.prototype.readUInt8=function(e,r){return e=e>>>0,r||O(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||O(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||O(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||O(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=X(function(e){e=e>>>0,v(e,"offset");const r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ne(e,this.length-8);const i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))}),o.prototype.readBigUInt64BE=X(function(e){e=e>>>0,v(e,"offset");const r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ne(e,this.length-8);const i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)}),o.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||O(e,r,this.length);let i=this[e],s=1,a=0;for(;++a<r&&(s*=256);)i+=this[e+a]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i},o.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||O(e,r,this.length);let i=r,s=1,a=this[e+--i];for(;i>0&&(s*=256);)a+=this[e+--i]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*r)),a},o.prototype.readInt8=function(e,r){return e=e>>>0,r||O(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},o.prototype.readInt16LE=function(e,r){e=e>>>0,r||O(e,2,this.length);const n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n},o.prototype.readInt16BE=function(e,r){e=e>>>0,r||O(e,2,this.length);const n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n},o.prototype.readInt32LE=function(e,r){return e=e>>>0,r||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,r){return e=e>>>0,r||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=X(function(e){e=e>>>0,v(e,"offset");const r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ne(e,this.length-8);const i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),o.prototype.readBigInt64BE=X(function(e){e=e>>>0,v(e,"offset");const r=this[e],n=this[e+7];(r===void 0||n===void 0)&&ne(e,this.length-8);const i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)}),o.prototype.readFloatLE=function(e,r){return e=e>>>0,r||O(e,4,this.length),p.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,r){return e=e>>>0,r||O(e,4,this.length),p.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||O(e,8,this.length),p.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||O(e,8,this.length),p.read(this,e,!1,52,8)};function W(t,e,r,n,i,s){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){const B=Math.pow(2,8*n)-1;W(this,e,r,n,B,0)}let s=1,a=0;for(this[r]=e&255;++a<n&&(s*=256);)this[r+a]=e/s&255;return r+n},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){const B=Math.pow(2,8*n)-1;W(this,e,r,n,B,0)}let s=n-1,a=1;for(this[r+s]=e&255;--s>=0&&(a*=256);)this[r+s]=e/a&255;return r+n},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||W(this,e,r,1,255,0),this[r]=e&255,r+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||W(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||W(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||W(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||W(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function S(t,e,r,n,i){Ie(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,r}function A(t,e,r,n,i){Ie(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a=a>>8,t[r+2]=a,a=a>>8,t[r+1]=a,a=a>>8,t[r]=a,r+8}o.prototype.writeBigUInt64LE=X(function(e,r=0){return S(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=X(function(e,r=0){return A(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){const P=Math.pow(2,8*n-1);W(this,e,r,n,P-1,-P)}let s=0,a=1,B=0;for(this[r]=e&255;++s<n&&(a*=256);)e<0&&B===0&&this[r+s-1]!==0&&(B=1),this[r+s]=(e/a>>0)-B&255;return r+n},o.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){const P=Math.pow(2,8*n-1);W(this,e,r,n,P-1,-P)}let s=n-1,a=1,B=0;for(this[r+s]=e&255;--s>=0&&(a*=256);)e<0&&B===0&&this[r+s+1]!==0&&(B=1),this[r+s]=(e/a>>0)-B&255;return r+n},o.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||W(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1},o.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||W(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2},o.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||W(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2},o.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||W(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4},o.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||W(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4},o.prototype.writeBigInt64LE=X(function(e,r=0){return S(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=X(function(e,r=0){return A(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function g(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function E(t,e,r,n,i){return e=+e,r=r>>>0,i||g(t,e,r,4),p.write(t,e,r,n,23,4),r+4}o.prototype.writeFloatLE=function(e,r,n){return E(this,e,r,!0,n)},o.prototype.writeFloatBE=function(e,r,n){return E(this,e,r,!1,n)};function $(t,e,r,n,i){return e=+e,r=r>>>0,i||g(t,e,r,8),p.write(t,e,r,n,52,8),r+8}o.prototype.writeDoubleLE=function(e,r,n){return $(this,e,r,!0,n)},o.prototype.writeDoubleBE=function(e,r,n){return $(this,e,r,!1,n)},o.prototype.copy=function(e,r,n,i){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);const s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s},o.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){const a=e.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{const a=o.isBuffer(e)?e:o.from(e,i),B=a.length;if(B===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=a[s%B]}return this};const z={};function Y(t,e,r){z[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),Y("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=se(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=se(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function se(t){let e="",r=t.length;const n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function xe(t,e,r){v(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&ne(e,t.length-(r+1))}function Ie(t,e,r,n,i,s){if(t>r||t<e){const a=typeof e=="bigint"?"n":"";let B;throw e===0||e===BigInt(0)?B=`>= 0${a} and < 2${a} ** ${(s+1)*8}${a}`:B=`>= -(2${a} ** ${(s+1)*8-1}${a}) and < 2 ** ${(s+1)*8-1}${a}`,new z.ERR_OUT_OF_RANGE("value",B,t)}xe(n,i,s)}function v(t,e){if(typeof t!="number")throw new z.ERR_INVALID_ARG_TYPE(e,"number",t)}function ne(t,e,r){throw Math.floor(t)!==t?(v(t,r),new z.ERR_OUT_OF_RANGE("offset","an integer",t)):e<0?new z.ERR_BUFFER_OUT_OF_BOUNDS:new z.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,t)}const Te=/[^+/0-9A-Za-z-_]/g;function Me(t){if(t=t.split("=")[0],t=t.trim().replace(Te,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function me(t,e){e=e||1/0;let r;const n=t.length;let i=null;const s=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function Le(t){const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function _e(t,e){let r,n,i;const s=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function Fe(t){return f.toByteArray(Me(t))}function ae(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function J(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function we(t){return t!==t}const Pe=(function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e})();function X(t){return typeof BigInt>"u"?De:t}function De(){throw new Error("BigInt not supported")}})(Be)),Be}var Ge=qe();const Ye={id:"",idx:0,start:0,length:0};function je(m){const{id:f,tree:p,select:k,root:y,selected:w,setFilter:h}=m,[o,I]=U.useState(new Map),M=U.useCallback(d=>o.get(d)||!1,[o]);U.useEffect(()=>{I(d=>{const l=new Map(d);return p.forEach((c,x)=>{const F=`${f}-${x}`;!M(F)&&w?.startsWith(F+"-")&&l.set(F,!0)}),l})},[w]);const N=d=>{I(l=>{const c=l.get(d)||!1,x=new Map(l);return x.set(d,!c),c&&w?.startsWith(d+"-")&&k?.(Ye),x})},j=(d,l,c)=>{d.detail===2&&h&&l.filter&&h(l.filter),l.length>0&&k?.({id:c,idx:l.data_source_idx,start:l.start,length:l.length})};return u.jsx("div",{className:Ee(y?"overflow-x-auto w-auto":"pl-2","font-mono h-full","overflow-auto rounded-md p-2 bg-white"),children:p.map((d,l)=>{const c=`${f}-${l}`,x=c===w,F=d.tree&&d.tree.length>0;return u.jsxs("div",{className:"leading-relaxed",children:[u.jsxs("div",{className:["flex items-center min-w-fit w-full",d.length>0?"cursor-pointer":"cursor-default",x?"bg-gray-600 text-white":"text-gray-500"].join(" "),children:[F?u.jsx("span",{className:"cursor-pointer flex flex-grow-0",onClick:C=>{C.stopPropagation(),N(c)},children:u.jsx("svg",{className:`shrink-0 w-2.5 h-2.5 transition-transform duration-200 ${M(c)?"rotate-90":""} ${x?"text-white":"text-gray-600"}`,viewBox:"0 0 16 16",fill:"currentColor",children:u.jsx("path",{d:"M6 4l4 4-4 4",stroke:"currentColor",strokeWidth:"2",fill:"none"})})}):u.jsx("span",{className:"shrink-0 w-2.5 h-2.5 text-gray-500",children:u.jsx("svg",{viewBox:"0 0 16 16",width:10,height:10,fill:"currentColor",children:u.jsx("rect",{x:"3",y:"7",width:"10",height:"2",rx:"1"})})}),u.jsx("div",{className:"ml-1 flex-1 whitespace-nowrap overflow-visible text-xs select-none",onClick:C=>j(C,d,c),onDoubleClick:()=>N(c),children:d.label})]}),F&&M(c)&&u.jsx(je,{id:c,tree:d.tree||[],select:k,selected:w,setFilter:h})]},c)})})}const Ne=({text:m,start:f,size:p,onOffsetClicked:k})=>u.jsx("span",{style:{whiteSpace:"pre",wordBreak:"break-all",fontFamily:"inherit",fontSize:"inherit"},children:Array.from(m).map((y,w)=>{const h=w>=f&&w<f+p;return u.jsx("span",{onClick:()=>k?.(w),style:{background:h?"#fde68a":void 0,cursor:"pointer"},children:y},w)})}),Je=({buffer:m,selected:f,onSelect:p})=>{const[k,y]=U.useState([0,0]),[w,h]=U.useState([0,0]),{addrLines:o,hexLines:I,asciiLines:M}=U.useMemo(()=>{const d=[],l=[],c=[];for(let x=0;x<m.length;x+=16){const F=x.toString(16).padStart(8,"0"),C=m.slice(x,x+16),b=[],_=[];for(const R of C)b.push(R.toString(16).padStart(2,"0")),_.push(R>=32&&R<127?String.fromCharCode(R):".");const H=b.length>8?b.slice(0,8).join(" ")+"ã€€"+b.slice(8).join(" "):b.join(" ");d.push(F),l.push(H),c.push(_.join(""))}return{addrLines:d,hexLines:l,asciiLines:c}},[m]);U.useEffect(()=>{const[d,l]=f,c=l*2+(l>0?l-1:0),x=d*2+(d>0?d:0)+(d>0?d:0),F=d+Math.floor(d/16),C=l>0?d+l+Math.floor((d+l)/16)-F:0;y([F,C]),h([x,l>0?c:0])},[f]);const N=U.useCallback(d=>{p&&p(Math.floor(d/3))},[p]),j=U.useCallback(d=>{p&&p(d-Math.floor(d/17))},[p]);return u.jsx("div",{className:"flex-1 overflow-auto rounded-md p-2 bg-white min-w-0 h-full",children:u.jsxs("div",{className:"flex font-mono text-xs whitespace-pre break-all",children:[u.jsx("div",{className:"select-none text-gray-500",style:{minWidth:60},children:o.join(`
`)}),u.jsx("div",{className:"ml-4 cursor-pointer",children:u.jsx(Ne,{text:I.join(`
`),start:w[0],size:w[1],onOffsetClicked:N})}),u.jsx("div",{className:"ml-4 cursor-pointer",children:u.jsx(Ne,{text:M.join(`
`),start:k[0],size:k[1],onOffsetClicked:j})})]})})},Ve="/v2/assets/wireshark.worker-izvxJ-6h.js";function Xe(m){const{fileUrl:f}=m,p=U.useRef(null),[,k]=U.useState(null),[y,w]=U.useState(""),[h,o]=U.useState([]),[I,M]=U.useState(0),[N,j]=U.useState(null),[d,l]=U.useState(new Map),[c,x]=U.useState([]),[F,C]=U.useState(!1),[b,_]=U.useState([]),[,H]=U.useState(null),[R,q]=U.useState("Loading..."),[oe,K]=U.useState(!0),[G,ee]=U.useState(!1),[re,ce]=U.useState(!1),[ue,te]=U.useState({id:"",idx:0,start:0,length:0}),Z=U.useCallback((S,A)=>{let g=new Map;const E=A.tree;if(E.length>0)for(let $=0;$<E.length;$++){const z=`${S}-${$}`,Y=Z(z,E[$]);g=new Map([...g,...Y])}else A.length>0&&g.set(S,{id:S,idx:A.data_source_idx,start:A.start,length:A.length});return g},[]),Q=U.useCallback(()=>{if(!p.current||c.length===0||!G){console.log("Cannot fetch data - conditions not met:",{hasWorker:!!p.current,columnsLength:c.length,processed:G});return}console.log("Fetching table data with filter:",y),K(!0);const{port1:S,port2:A}=new MessageChannel;S.onmessage=g=>{try{console.log("Received table data response:",g.data);const{data:E}=g.data;if(!E?.frames)throw console.error("No frames in response data:",E),new Error("Invalid data format - no frames");const $=E.frames.map(z=>c.reduce((Y,se,xe)=>(Y[se.key]=z.columns[xe],Y),{raw:z}));o($)}catch(E){console.error("Error processing table data:",E),q("Failed to process table data: "+(E instanceof Error?E.message:"Unknown error"))}finally{S.close(),K(!1)}};try{p.current.postMessage({type:"select-frames",skip:0,limit:0,filter:y},[A])}catch(g){console.error("Error sending select-frames message:",g),K(!1)}},[c,y,G]);U.useEffect(()=>{console.log("Initializing worker...");const S=new Worker(Ve,{type:"module"});p.current=S;const A=g=>{console.log("Worker message received:",g.data.type,g.data);const{type:E}=g.data;let $=new Map;switch(E){case"init":console.log("Worker initialized"),K(!1),ce(!0),S.postMessage({type:"columns"});break;case"columned":console.log("Columns received:",g.data.columns);const z=g.data.columns.map(Y=>({title:Y,key:Y}));x(z);break;case"status":q(g.data.status);break;case"processed":console.log("File processed:",g.data),ee(!0),I===0&&M(1);break;case"selected":console.log("Packet selected:",g.data),$=Z("root",g.data),l($),j(g.data);break;case"error":console.error("Worker error:",g.data),q(`Error: ${g.data?.error}`),K(!1);break;default:console.log("Unhandled message type:",E);break}};return S.addEventListener("message",A),()=>{console.log("Cleaning up worker"),S.terminate(),S.removeEventListener("message",A)}},[Z]),U.useEffect(()=>{G&&c.length>0&&Q()},[G,c,Q]),U.useEffect(()=>{G&&c.length>0&&Q()},[y,G,c,Q]),U.useEffect(()=>{G&&I>0&&p.current&&p.current.postMessage({type:"select",number:I})},[I,G]);const he=S=>{const A=S.target.files;if(!A||A.length===0)return;const g=A[0];k(g),ee(!1),o([]),q("Processing file..."),g.arrayBuffer().then(E=>{if(!p.current){console.error("Worker not available");return}p.current.postMessage({type:"process",name:g.name,arrayBuffer:E},[E])}).catch(E=>{console.error("Error reading file:",E),q(`Error reading file: ${E.message}`)})},fe=S=>{M(S.raw.number)},pe=S=>{if(!S||!p.current)return;const{port1:A,port2:g}=new MessageChannel;A.onmessage=E=>{const z=V.object({followResult:V.unknown(),payloads:V.array(V.unknown()),filter:V.string()}).safeParse(E?.data);if(!z.success){console.warn("Failed to parse trace flow");return}H(z.data.followResult),_(z.data.payloads),w(z.data.filter)},p.current.postMessage({type:"follow-stream",number:S.raw.number},[g]),C(!0)},de=(S,A)=>{let g=null,E=null;d.forEach(($,z)=>{$.idx===S&&$.start&&A>=$.start&&A<=$.start+$.length&&(!E||E.length>$.length)&&(E=$,g=z)}),g&&E&&te(E)},O=S=>{const A=S.raw;return{backgroundColor:`#${Number(A.bg||16777215).toString(16).padStart(6,"0")}`,color:`#${Number(A.fg||0).toString(16).padStart(6,"0")}`}};U.useEffect(()=>{re&&W(f)},[f,re]);const W=async S=>{try{q(`Fetching sample file from: ${S}`),ee(!1);const A=await fetch(S);if(!A.ok)throw new Error(`Failed to fetch sample: ${S}`);const g=await A.arrayBuffer();if(!p.current){q("Worker not available");return}const E=S.split("/").pop();if(!E)return;p.current.postMessage({type:"process",name:E,arrayBuffer:g},[g]),q(`Processing sample file: ${E}`)}catch(A){console.error("Error loading sample PCAP:",A),A instanceof Error&&q(`Error: ${A.message}`)}};return{filterInput:y,data:h,columns:c,selectedRowIdx:I,selectedPacket:N,showTraceFlowDialog:F,streamedData:b,status:R,loading:oe,processed:G,selectedTreeEntry:ue,initialized:re,setFilterInput:w,handleFileChange:he,handleRowClick:fe,handleTraceFlow:pe,handleDataSourceSelect:de,getRowStyle:O,setShowTraceFlowDialog:C,setSelectedTreeEntry:te,loadFile:W}}function Ke(m){const{data:f,columns:p,loading:k,onRowClick:y,getRowStyle:w}=m;return k?u.jsx("div",{className:"px-6 py-4 grid place-items-center text-center text-gray-500 h-full",children:u.jsx(ze,{className:"scale-50"})}):f.length?u.jsx("div",{className:"font-mono",children:u.jsxs("table",{className:"min-w-full divide-y divide-border-primary h-full",children:[u.jsx("thead",{className:"sticky top-0",style:{boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 10px"},children:u.jsx("tr",{children:p.map(h=>u.jsx("th",{className:Ee("px-2 h-[34px] bg-white border-r last:border-none border-border-primary text-left text-[0.6875rem] font-semibold leading-[0.875rem]","relative"),children:h.title},h.key))})}),u.jsx("tbody",{className:"bg-white divide-y divide-border-primary",children:f.map((h,o)=>u.jsx("tr",{onClick:()=>y(h),style:w(h),className:"cursor-pointer hover:opacity-75",children:p.map(I=>u.jsx("td",{className:"px-2 h-[34px] last:border-none border-r text-[0.75rem] leading-[1.125rem] font-medium",children:h[I.key]},I.key))},o))})]})}):u.jsx("div",{className:"px-6 py-4 grid place-items-center text-center text-gray-500 h-full",children:"No Data"})}function Ze(m){const{fileUrl:f}=m,{filterInput:p,data:k,columns:y,selectedPacket:w,loading:h,processed:o,selectedTreeEntry:I,setFilterInput:M,handleRowClick:N,handleTraceFlow:j,handleDataSourceSelect:d,getRowStyle:l,setSelectedTreeEntry:c}=Xe({fileUrl:f});return u.jsxs("div",{className:"flex flex-col gap-1 p-2 h-full overflow-hidden",children:[u.jsxs(ye,{defaultSize:{width:"100%",height:"80%"},enable:{bottom:!0},minHeight:200,className:"flex flex-col",...ge,children:[u.jsx(Oe,{label:u.jsxs("div",{className:"flex items-center gap-4 w-full",children:[u.jsx("span",{className:"text-text-primary text-[0.75rem] font-semibold leading-[0.875rem] shrink-0",children:"Filter"}),u.jsx("input",{placeholder:"filter e.g tcp",value:p,onChange:x=>M(x.target.value),className:Ee("w-full px-2 py-[0px] outline-none font-mono tracking-tighter rounded text-text-secondary transition-all active:shadow-none","border border-border-primary hover:border-primary","disabled:text-text-menu disabled:cursor-not-allowed","focus:border-primary focus:shadow-text-field focus:ring-transparent")})]}),className:"bg-white rounded-t-md flex-shrink-0",children:u.jsx("div",{className:"flex items-center gap-2 pl-4",children:"runId"in m?u.jsxs(u.Fragment,{children:[u.jsx(Ae,{variant:"secondary",size:"xss",asChild:!0,children:u.jsxs(be,{to:ke.log({runId:m.runId,focusId:m.resultId}),children:[u.jsx(Ue,{name:"BoxArrowRight",className:"mr-1"}),"Log"]})}),u.jsx(Ae,{variant:"secondary",size:"xss",asChild:!0,children:u.jsxs(be,{to:ke.run({runId:m.runId}),children:[u.jsx(Ue,{name:"BoxArrowRight",className:"mr-1"}),"Run"]})})]}):null})}),u.jsx("div",{className:"overflow-auto flex-1 bg-white",children:u.jsx(Ke,{data:k,columns:y,loading:h,processed:o,onRowClick:N,onTraceFlow:j,getRowStyle:l})})]}),w&&w.tree?.length>0&&u.jsx("div",{className:"flex gap-1 flex-1 min-h-0 overflow-hidden",children:(()=>{const F=`${100/(1+w.data_sources.length)}%`;return u.jsxs(u.Fragment,{children:[u.jsx(ye,{defaultSize:{width:F,height:"100%"},enable:{right:!0},minWidth:150,...ge,children:u.jsx(je,{id:"root",tree:w.tree,selected:I.id,select:c,setFilter:M})}),w.data_sources.map((C,b,_)=>{const H=b===_.length-1;return u.jsx(ye,{defaultSize:{width:F,height:"100%"},enable:{right:!H},minWidth:150,className:H?"flex-1 min-w-0":"",...ge,children:u.jsx(Je,{buffer:new Uint8Array(Ge.Buffer.from(C.data,"base64")),selected:b===I.idx&&I.start?[I.start,I.length]:[0,0],onSelect:R=>d(b,R)})},b)})]})})()})]})}const Qe=V.object({fileUrl:V.string().url(),runId:V.coerce.number().optional(),resultId:V.coerce.number().optional()});function ar(){const[m]=$e(),f=Object.fromEntries(m.entries()),p=Qe.safeParse(f);if(!p.success)return u.jsx("div",{className:"grid place-items-center h-full",children:u.jsxs("div",{className:"p-4 border border-red-300 bg-red-50 rounded-md",children:[u.jsx("h2",{className:"text-red-800 font-semibold mb-2",children:"Invalid URL Parameters"}),u.jsx("p",{className:"text-red-700 mb-3",children:"Required: fileUrl (valid URL), optional: runId and resultId (numbers)"}),u.jsxs("details",{className:"text-sm",children:[u.jsx("summary",{className:"cursor-pointer text-red-600 hover:text-red-800",children:"Show validation errors"}),u.jsx("pre",{className:"mt-2 p-2 bg-red-100 rounded text-xs overflow-auto",children:JSON.stringify(p.error.format(),null,2)})]})]})});const k="runId"in p.data?p.data.runId:void 0,y="resultId"in p.data?p.data.resultId:void 0;return u.jsx(Ze,{fileUrl:p.data.fileUrl,runId:k,resultId:y})}export{ar as NetPacketAnalyzerPage};
//# sourceMappingURL=net-packet-analyzer.page-DVaZmURE.js.map
